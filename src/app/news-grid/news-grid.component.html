<div class="news-container">
  <div class="header-section">
    <h2>Haber YÃ¶netimi</h2>
    
    <!-- Arama BÃ¶lÃ¼mÃ¼ -->
    <div class="search-section">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Haberlerde Ara...</mat-label>
        <input 
          matInput 
          [(ngModel)]="searchTerm" 
          (input)="applyFilter()"
          placeholder="BaÅŸlÄ±k, iÃ§erik veya kategori ID ile ara"
          #searchInput>
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      
      <button 
        mat-icon-button 
        *ngIf="searchTerm" 
        (click)="clearSearch()"
        class="clear-button"
        matTooltip="AramayÄ± temizle">
        <mat-icon>clear</mat-icon>
      </button>
    </div>
    
    <!-- SonuÃ§ sayÄ±sÄ± -->
    <div class="results-info" *ngIf="searchTerm">
      <span class="results-count">
        {{ dataSource.filteredData.length }} sonuÃ§ bulundu
      </span>
    </div>
  </div>
  
  <mat-table [dataSource]="dataSource" class="mat-elevation-8">
    <!-- BaÅŸlÄ±k Kolonu -->
    <ng-container matColumnDef="baslik">
      <th mat-header-cell *matHeaderCellDef>BaÅŸlÄ±k</th>
      <td mat-cell *matCellDef="let haber">{{ haber.baslik }}</td>
    </ng-container>

    <!-- Ä°Ã§erik Kolonu -->
    <ng-container matColumnDef="icerik">
      <th mat-header-cell *matHeaderCellDef>Ä°Ã§erik</th>
      <td mat-cell *matCellDef="let haber">{{ truncateText(haber.icerik, 50) }}</td>
    </ng-container>

    <!-- YayÄ±n Tarihi Kolonu -->
    <ng-container matColumnDef="yayinTarihi">
      <th mat-header-cell *matHeaderCellDef>YayÄ±n Tarihi</th>
      <td mat-cell *matCellDef="let haber">{{ haber.yayinTarihi | date:'dd/MM/yyyy' }}</td>
    </ng-container>

    <!-- Kategori ID Kolonu -->
    <ng-container matColumnDef="kategoriId">
      <th mat-header-cell *matHeaderCellDef>Kategori ID</th>
      <td mat-cell *matCellDef="let haber">{{ haber.kategoriId || 'N/A' }}</td>
    </ng-container>

    <!-- Aksiyonlar Kolonu -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Aksiyonlar</th>
      <td mat-cell *matCellDef="let haber">
        <div class="actions-container">
          <button mat-raised-button color="primary" class="read-button" (click)="openNewsDialog(haber)">
            ğŸ‘ Oku
          </button>
          <span class="status-badge" [ngClass]="{'approved': haber.onaylandi, 'pending': !haber.onaylandi}">
            {{ haber.onaylandi ? 'OnaylandÄ±' : 'Bekliyor' }}
          </span>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </mat-table>

  <!-- Paginator -->
  <mat-paginator 
    #paginator
    [pageSizeOptions]="[5, 10, 20, 50]"
    [pageSize]="10"
    showFirstLastButtons
    aria-label="Haberler iÃ§in sayfa seÃ§imi">
  </mat-paginator>
</div>

    <div class="most-read-clicked-section">
        <span>En Ã§ok okunan/tÄ±klanan haberleri gÃ¶rmek iÃ§in tÄ±klayÄ±nÄ±z</span>
        <button mat-raised-button color="primary" (click)="navigateToMostReadClicked()">GÃ¶ster</button>
    </div>